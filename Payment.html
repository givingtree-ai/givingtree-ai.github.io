<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Londrina+Solid&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pathway+Extreme:wght@300&display=swap" rel="stylesheet">
    <style>
        .roboto-condensed {
            font-family: 'Roboto Condensed', sans-serif;
            font-weight: 800;
        }

        .pathway-extreme-light {
            font-family: "Pathway Extreme", sans-serif;
            font-optical-sizing: auto;
            font-weight: 300;
            font-style: normal;
            font-variation-settings: "wdth" 100;
        }

        body {
            font-family: "Roboto Condensed", sans-serif;
            background-color: #B5C99A;
            margin: 0;
            padding: 20px;
        }

        header {
            background-color: #333;
            color: white;
            padding: 5px;
            padding: 0px;
            font-size: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 6px;
            margin: 10px;
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .header-title {
            margin-left: 12px;
            font-family: 'Roboto Condensed', sans-serif;
            font-weight: 800;
        }

        .buttons {
            display: flex;
            gap: 10px;
        }

        .buttons a {
            color: white;
            text-decoration: none;
            padding: 8px 12px;
            background: none;
            border: none;
            font-family: 'Roboto Condensed', sans-serif;
            font-weight: 600;
            font-size: inherit;
            display: flex;
            align-items: center;
        }

        .buttons a:hover,
        .buttons a.active {
            text-decoration: underline;
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
            font-family: 'Roboto Condensed', sans-serif;
            font-size: 38px;
        }

        .summary {
            margin-top: 20px;
            margin-bottom: 20px;
            margin-left: 500px;
            text-align: left;
        }

        .summary p {
            font-size: 18px;
            margin: 5px 0;
        }

        .payment-method {
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center; /* Center horizontally */
            margin-left: 0; /* Remove left margin */
            text-align: center; /* Center text */
        }

        .payment-method img {
            width: 45px;
            height: 45px;
            margin-right: 5px;
        }
        .payment-method p{
            font-family: 'Pathway Extreme', sans-serif;
            margin-right: 5px;
        }

        .add-payment-container {
            margin-top: 20px;
            margin-left: 500px;
            text-align: left;
        }

        .payment-form input {
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: 'Roboto Condensed', sans-serif;
        }

        .payment-form button, #addPaymentBtn, #confirmPayment {
            padding: 10px 15px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Pathway Extreme', sans-serif;
            font-weight: 600;
            font-size: 16px;
        }

        .payment-form button:hover, #addPaymentBtn:hover, #confirmPayment:hover {
            background-color: #45a049;
        }

        #confirm-payment {
            margin-top:20px;
            text-align: center;
        }
        .payment-select{
            display: flex;
            align-items: center;
            justify-content: center; /* Center horizontally */
            text-align: center; /* Center text */
        }
    </style>
</head>
<body>
    <header>
        <div class="header-left">
            <img src="logo.png" alt="Logo" style="width: 55px; height: 55px; padding: 10px;">
            <span class="header-title">GIVING TREE</span>
        </div>
        <div class="buttons">
            <a href="index.html" class="home">Home</a>
            <a href="Purchase.html">Purchase</a>
            <a href="Donate.html">Donate</a>
            <a href="Volunteer.html">Volunteer</a>
            <a href="Cart.html">
                <img src="carticon.png" alt="Cart" style="width: 55px; height: 55px;">
            </a>
            <a href="userdashboard.html">
                <img src="usericon.png" alt="User Profile" style="width: 55px; height: 55px;">
            </a>
        </div>
    </header>

    <h2>Payment</h2>

    <div class="summary" id="summary">
        <h3>Order Summary:</h3>
        <p>Item 1: Apples - 5 lbs - $10.00</p>
        <p>Item 2: Bananas - 3 lbs - $6.00</p>
        <p>Total: $16.00</p>
    </div>

    <div class="payment-select">
        <input type="radio" id="visaRadio" name="paymentOption" value="visa" checked>
        <div class="payment-method">
            <img src="payment.png" alt="Visa Payment">
            <p>Visa ending in 1234</p>
        </div>
    </div>
    <div id="newCardDiv" style="display:none" class="payment-select">
        <input type="radio" id="mastercardRadio" name="paymentOption" value="mastercard">
        <div class="payment-method">
            <img src="payment.png" alt="Mastercard Payment">
            <p id="mastercardText"></p>
        </div>
    </div>

    <div class="add-payment-container">
        <button id="addPaymentBtn">+ Add Payment Method</button>

        <div id="paymentForm" class="payment-form" style="display:none;">
            <h3>Add New Card:</h3>
            <input type="text" id="cardholder-name" placeholder="Cardholder Name" required>
            <input type="text" id="card-number" placeholder="Card Number" required>
            <input type="text" id="expiry-date" placeholder="MM/YY" required>
            <input type="text" id="cvv" placeholder="CVV" required>
            <button id="addCardBtn">Add Card</button>
        </div>
    </div>

    <div id="confirm-payment">
        <button id="confirmPayment">Confirm Payment</button>
    </div>

    <script>
        const addPaymentBtn = document.getElementById('addPaymentBtn');
        const paymentForm = document.getElementById('paymentForm');
        const addCardBtn = document.getElementById('addCardBtn');
        const confirmPayment = document.getElementById('confirmPayment');
        const newCardDiv = document.getElementById('newCardDiv');
        const mastercardText = document.getElementById('mastercardText');

        addPaymentBtn.addEventListener('click', function () {
            paymentForm.style.display = 'block';
        });

        addCardBtn.addEventListener('click', function () {
            const cardNumber = document.getElementById('card-number').value;
            const cardholderName = document.getElementById('cardholder-name').value;
            if (cardNumber && cardholderName) {
                mastercardText.innerHTML = `Visa ending in ${cardNumber.slice(-4)}`;
                newCardDiv.style.display = 'flex';
                paymentForm.style.display = 'none';
            }
        });

        confirmPayment.addEventListener('click', function () {
            alert("Thank you for donating! As a reminder, all of our proceeds go to charities.");
        });

        // Function to get query parameters from the URL
        function getParameterByName(name, url = window.location.href) {
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        // Function to display the order summary
        function displaySummary() {
            let summaryDiv = document.getElementById('summary');
            let cartItems = getParameterByName('cartItems');

            if (cartItems) {
                let items = JSON.parse(cartItems);
                let itemsHTML = "";
                let totalPrice = 0;
                items.forEach(item => {
                    itemsHTML += `<p>${item.name} - ${item.weight} - $${item.price}</p>`;
                    totalPrice += parseFloat(item.price);
                });
                summaryDiv.innerHTML = "<h3>Order Summary:</h3>" + itemsHTML + `<p>Total: $${totalPrice.toFixed(2)}</p>`;
            }
        }

        // Call displaySummary when the page loads
        displaySummary();
    </script>
</body>
</html>
